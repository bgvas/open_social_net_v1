<ng-container>
    <div class="content-header row">
        <div class="content-header-left col-md-9 col-12 mb-2">
            <div class="row">
                <div class="col-12 d-flex">
                    <h2 class="content-header-title float-left mb-0">
                        Καταχώριση Ωφελούμενου
                    </h2>
                </div>
            </div>
        </div>
    </div>
</ng-container>


<section class="vertical-wizard">
    <div id="stepper2" class="bs-stepper vertical vertical-wizard-example">



        <!-- Tabs -->
        <div class="bs-stepper-header" >
            <div class="step" data-target="#personal-numbers">
                <button type="button" class="step-trigger">
                    <span class="bs-stepper-box">1</span>
                    <span class="bs-stepper-label">
                        <span class="bs-stepper-title">Στοιχεία Ταυτοποίησης</span>
                        <span class="bs-stepper-subtitle">Οι προσωπικοί σας αριθμοί</span>
                        <!--<br>
                        <small class="text-danger" *ngIf="">Υπάρχουν λάθη στο πεδίο</small>-->
                    </span>
                </button>
            </div>
            <div class="step" data-target="#personal-info">
                <button type="button" class="step-trigger">
                    <span class="bs-stepper-box">2</span>
                    <span class="bs-stepper-label">
                        <span class="bs-stepper-title">Προσωπικά Στοιχεία</span>
                        <span class="bs-stepper-subtitle">Τα προσωπικά σας στοιχεία</span>
                    </span>
                </button>
            </div>
            <div class="step" data-target="#address-step-vertical">
                <button type="button" class="step-trigger">
                    <span class="bs-stepper-box">3</span>
                    <span class="bs-stepper-label">
                        <span class="bs-stepper-title">Οικογενειακά Στοιχεία</span>
                        <span class="bs-stepper-subtitle">Στοιχεία σχετικά με την οικογένειά σας</span>
                    </span>
                </button>
            </div>
            <div class="step" data-target="#social-links-vertical">
                <button type="button" class="step-trigger">
                    <span class="bs-stepper-box">4</span>
                    <span class="bs-stepper-label">
                        <span class="bs-stepper-title">Στοιχεία Κατοικίας</span>
                        <span class="bs-stepper-subtitle">Τόπος κατοικίας</span>
                    </span>
                </button>
            </div>
            <div class="step" data-target="#communication">
                <button type="button" class="step-trigger">
                    <span class="bs-stepper-box">5</span>
                    <span class="bs-stepper-label">
                        <span class="bs-stepper-title">Στοιχεία Επικοινωνίας</span>
                        <span class="bs-stepper-subtitle">Τρόποι επικοινωνίας</span>
                    </span>
                </button>
            </div>
        </div>



        <!-- Πεδία -->
        <div class="bs-stepper-content">
            <form class="form form-vertical" [formGroup]="beneficiaryForm">
                <div id="personal-numbers" class="content">
                    <div class="content-header">
                        <h5 class="mb-0">Στοιχεία Ταυτοποίησης</h5>
                        <small class="text-muted">Οι προσωπικοί σας αριθμοί.</small>
                    </div>

                    <!-- Προσωπικοί αριθμοί -->
                    <div class="row">
                        <div class="form-group col-md-6">
                            <label class="form-label" for="afm">Α.Φ.Μ</label>
                            <input
                                    type="number"
                                    id="afm"
                                    class="form-control"
                                    name="afm"
                                    formControlName="afm"
                                    [imask] = "{mask: '000000000'}"
                                    minlength="9"
                                    placeholder="_ _ _ _ _ _ _ _ _">

                            <ng-container *ngIf="beneficiaryForm.get('afm').touched">
                                <small class="text-danger" *ngIf = "beneficiaryForm.get('afm').value?.length < 9">
                                    O ΑΦΜ πρεπει να έχει 9 ψηφία
                                </small>
                            </ng-container>
                        </div>
                        <div class="form-group col-md-6">
                            <label class="form-label" for="amka">Α.Μ.Κ.Α</label>
                            <input
                                    type="number"
                                    id="amka"
                                    class="form-control"
                                    name="amka"
                                    formControlName="amka"
                                    [imask] = "{mask: '00000000000'}"
                                    minlength="11"
                                    placeholder="_ _ _ _ _ _ _ _ _ _ _">

                            <ng-container *ngIf="beneficiaryForm.get('amka').touched">
                                <small class="text-danger" *ngIf = "beneficiaryForm.get('amka').hasError('required')">
                                    O AMKA είναι απαραίτητος
                                </small>
                                <br>
                                <small class="text-danger" *ngIf = "beneficiaryForm.get('amka').value?.length < 11">
                                    O AMKA πρεπει να έχει 11 ψηφία
                                </small>
                            </ng-container>
                        </div>
                        <div class="col-md-4 col-12">
                            <div class="form-group">
                                <label for="id-icon">Αριθμός Ταυτότητας/Διαβατηρίου</label>
                                <div class="input-group input-group-merge">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text"></span>
                                    </div>
                                    <input
                                            type="text"
                                            id="id-icon"
                                            class="form-control"
                                            name="id-icon"
                                            placeholder="Ταυτότητα/Διαβατήριο"
                                            formControlName="adtorpassport">
                                </div>
                                <ng-container *ngIf="beneficiaryForm.get('adtorpassport').touched">
                                    <small class="text-danger" *ngIf = "beneficiaryForm.get('adtorpassport').hasError('required')">
                                        O αριθμός χρειάζεται
                                    </small>
                                </ng-container>
                            </div>
                        </div>
                    </div>
                    <div class="d-flex justify-content-between">
                        <button class="btn btn-primary btn-prev" (click)="wizardPrevious()" rippleEffect>
                            <i data-feather="arrow-left" class="align-middle mr-sm-25 mr-0"></i>
                            <span class="align-middle d-sm-inline-block d-none">Previous</span>
                        </button>
                        <button class="btn btn-primary btn-next" (click)="wizardNext()" rippleEffect>
                            <span class="align-middle d-sm-inline-block d-none">Next</span>
                            <i data-feather="arrow-right" class="align-middle ml-sm-25 ml-0"></i>
                        </button>
                    </div>
                </div>




                <div id="personal-info" class="content">
                    <div class="content-header">
                        <h5 class="mb-0">Προσωπικά Στοιχεία</h5>
                        <small class="text-muted">Τα προσωπικά σας στοιχεία.</small>
                    </div>
                    <div class="row">
                        <div class="col-md-6 col-12">
                            <div class="form-group">
                                <label for="first-name-icon">Ονομα</label>
                                <div class="input-group input-group-merge">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text"><span [data-feather]="'user'"></span></span>
                                    </div>
                                    <input
                                            type="text"
                                            id="first-name-icon"
                                            class="form-control"
                                            name="fname-icon"
                                            placeholder="Ονομα"
                                            formControlName="firstname">
                                </div>
                                <ng-container *ngIf="beneficiaryForm.get('firstname').touched">
                                    <small class="text-danger" *ngIf = "beneficiaryForm.get('firstname').hasError('required')">Το όνομα χρειάζεται</small>
                                </ng-container>
                            </div>
                        </div>
                        <div class="col-md-6 col-12">
                            <div class="form-group">
                                <label for="last-name-icon">Επίθετο</label>
                                <div class="input-group input-group-merge">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text"><span [data-feather]="'user'"></span></span>
                                    </div>
                                    <input
                                            type="text"
                                            id="last-name-icon"
                                            class="form-control"
                                            name="lname-icon"
                                            placeholder="Επίθετο"
                                            formControlName = "lastname">
                                </div>
                                <ng-container *ngIf="beneficiaryForm.get('lastname').touched">
                                    <small class="text-danger" *ngIf = "beneficiaryForm.get('lastname').hasError('required')">Το επίθετο χρειάζεται</small>
                                </ng-container>
                            </div>
                        </div>
                        <div class="col-md-2 col-12">
                            <div class="form-group">
                                <label for="customSelect">Φύλο</label>
                                <select class="custom-select" id="customSelect" formControlName="sex">
                                    <option selected>Επιλέξτε</option>
                                    <option value="Ανδρας">Ανδρας</option>
                                    <option value="Γυναίκα">Γυναίκα</option>
                                    <option value="Αλλο">Αλλο</option>
                                </select>
                                <ng-container *ngIf="beneficiaryForm.get('sex').touched">
                                    <small class="text-danger" *ngIf = "beneficiaryForm.get('sex').hasError('required')">Το φύλο χρειάζεται</small>
                                </ng-container>
                            </div>
                        </div>
                        <div class="col-md-2 col-12">
                            <div class="form-group">
                                <label for="customSelect">Ετος γέννησης</label>
                                <select class="custom-select" id="year" formControlName="birthyear">
                                    <option selected>Επιλέξτε έτος</option>
                                    <option  *ngFor="let year of years()" value="{{year}}">{{year}}</option>
                                </select>
                                <ng-container *ngIf="beneficiaryForm.get('birthyear').touched">
                                    <small class="text-danger" *ngIf = "beneficiaryForm.get('birthyear').hasError('required')">Το έτος χρειάζεται</small>
                                </ng-container>
                            </div>
                        </div>
                        <div class="col-md-8 col-12">
                            <div class="form-group">
                                <label for="nationality-icon">Εθνικότητα</label>
                                <div class="input-group input-group-merge">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text"><span [data-feather]="'flag'"></span></span>
                                    </div>
                                    <input
                                            type="text"
                                            id="nationality-icon"
                                            class="form-control"
                                            name="nationality-icon"
                                            placeholder="Εθνικότητα"
                                            formControlName="nationality">
                                </div>
                                <ng-container *ngIf="beneficiaryForm.get('nationality').touched">
                                    <small class="text-danger" *ngIf = "beneficiaryForm.get('nationality').hasError('required')">
                                        Η εθνικότητα χρειάζεται
                                    </small>
                                </ng-container>
                            </div>
                        </div>
                    </div>
                    <div class="d-flex justify-content-between">
                        <button class="btn btn-primary btn-prev" (click)="wizardPrevious()" rippleEffect>
                            <i data-feather="arrow-left" class="align-middle mr-sm-25 mr-0"></i>
                            <span class="align-middle d-sm-inline-block d-none">Previous</span>
                        </button>
                        <button class="btn btn-primary btn-next" (click)="wizardNext()" rippleEffect>
                            <span class="align-middle d-sm-inline-block d-none">Next</span>
                            <i data-feather="arrow-right" class="align-middle ml-sm-25 ml-0"></i>
                        </button>
                    </div>
                </div>


                <div id="address-step-vertical" class="content">
                    <div class="d-flex justify-content-between">
                        <button class="btn btn-primary btn-prev"  rippleEffect>
                            <i data-feather="arrow-left" class="align-middle mr-sm-25 mr-0"></i>
                            <span class="align-middle d-sm-inline-block d-none">Previous</span>
                        </button>
                        <button class="btn btn-primary btn-next" (click)="wizardNext()" rippleEffect>
                            <span class="align-middle d-sm-inline-block d-none">Next</span>
                            <i data-feather="arrow-right" class="align-middle ml-sm-25 ml-0"></i>
                        </button>
                    </div>
                </div>


                <div id="social-links-vertical" class="content">
                    <div class="d-flex justify-content-between">
                        <button class="btn btn-primary btn-prev" (click)="wizardPrevious()" rippleEffect>
                            <i data-feather="arrow-left" class="align-middle mr-sm-25 mr-0"></i>
                            <span class="align-middle d-sm-inline-block d-none">Previous</span>
                        </button>
                        <button class="btn btn-primary btn-next" (click)="wizardNext()" rippleEffect>
                            <span class="align-middle d-sm-inline-block d-none">Next</span>
                            <i data-feather="arrow-right" class="align-middle ml-sm-25 ml-0"></i>
                        </button>
                    </div>
                </div>



                <div id="communication" class="content">
                    <div class="d-flex justify-content-between">
                        <button class="btn btn-primary btn-prev" (click)="wizardPrevious()" rippleEffect>
                            <i data-feather="arrow-left" class="align-middle mr-sm-25 mr-0"></i>
                            <span class="align-middle d-sm-inline-block d-none">Previous</span>
                        </button>
                        <button class="btn btn-success btn-submit" rippleEffect (click)="onSubmit()">Submit</button>
                    </div>
                </div>


            </form>
        </div>
    </div>
</section>
